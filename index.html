<!DOCTYPE html>
<html lang="ms">
<head>
  <meta charset="UTF-8">
  <title>üéØ Kuiz Sistem Ejaan</title>
  <style>
    body {
      font-family: "Comic Sans MS", sans-serif;
      background: linear-gradient(120deg, #74ebd5, #ACB6E5);
      background-size: 400% 400%;
      animation: gradientMove 10s ease infinite;
      margin: 0;
      padding: 0;
      color: #333;
      text-align: center;
      overflow-x: hidden;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      width: 80%;
      max-width: 800px;
      margin: 60px auto;
      padding: 30px;
      box-shadow: 0px 4px 15px rgba(0,0,0,0.3);
      position: relative;
      z-index: 10;
    }

    h1 {
      color: #2b4c7e;
      margin-bottom: 10px;
    }

    #progress-container {
      width: 100%;
      background: #ddd;
      border-radius: 20px;
      margin: 20px 0;
      height: 20px;
      overflow: hidden;
    }

    #progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #4CAF50, #00c6ff);
      width: 0%;
      border-radius: 20px;
      transition: width 0.5s ease;
    }

    .question {
      font-size: 22px;
      margin-bottom: 20px;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    button {
      display: block;
      width: 90%;
      max-width: 400px;
      margin: 8px auto;
      padding: 12px;
      font-size: 18px;
      border-radius: 12px;
      border: none;
      background: #4CAF50;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      transform: scale(1.05);
      background: #3e9144;
    }

    #nextBtn { background: #008CBA; }
    #nextBtn:hover { background: #0077aa; }

    #avatar {
      width: 100px;
      margin: 10px auto;
      transition: transform 0.3s ease;
    }

    .happy { content: url('https://cdn-icons-png.flaticon.com/512/742/742751.png'); }
    .sad { content: url('https://cdn-icons-png.flaticon.com/512/742/742761.png'); }
    .smile { content: url('https://img.favpng.com/9/1/12/emoji-thumb-signal-emoticon-smiley-png-favpng-18fyyZ9vdD8PJFW0GzKjnQu6P.jpg'); }

    #score {
      font-size: 24px;
      font-weight: bold;
      margin-top: 20px;
    }

    #starContainer span {
      font-size: 30px;
      color: gold;
      animation: pop 0.6s ease;
    }

    @keyframes pop {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.3); opacity: 1; }
      100% { transform: scale(1); }
    }

    #resultTitle {
      font-size: 26px;
      color: #2b4c7e;
      margin-top: 20px;
    }

    #wrongAnswers {
      text-align: left;
      font-size: 18px;
      margin-top: 20px;
      background: rgba(255,255,255,0.8);
      padding: 15px;
      border-radius: 10px;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container" id="start-container">
    <h1>üéØ Kuiz Sistem Ejaan</h1>
    <p>Sila masukkan nama anda untuk mula</p>
    <input type="text" id="playerName" placeholder="Masukkan nama anda" style="padding:10px;width:70%;border-radius:10px;">
    <button onclick="startQuiz()">üöÄ Mula Kuiz</button>
  </div>

  <div class="container" id="quiz-container" style="display:none;">
    <h1 id="quizTitle">Soalan <span id="currentQ">1</span> / 30</h1>
    <div id="progress-container"><div id="progress-bar"></div></div>
    <img id="avatar" class="happy">
    <div class="question" id="question"></div>
    <div id="options"></div>
    <div id="starContainer"></div>
    <button id="nextBtn" onclick="nextQuestion()">‚û°Ô∏è Seterusnya</button>
    <div id="score"></div>

    <!-- ‚úÖ Êñ∞Â¢ûÊü•ÁúãÈîôÈ¢òÂå∫ -->
    <div id="wrongAnswers"></div>

    <!-- ‚úÖ Êñ∞Â¢û‰∏â‰∏™ÊåâÈíÆ -->
    <div id="endButtons" style="display:none; margin-top:20px;">
      <button onclick="showWrongAnswers()">üîç Semak Jawapan Salah</button>
      <button onclick="restartQuiz()">üîÑ Main Semula Kuiz</button>
      <button onclick="exitQuiz()">üö™ Keluar</button>
    </div>
  </div>

  <script>
    const quizData = [
      { q: "1. Manakah ejaan yang betul?", options: ["A. Sekolah-ku", "B. Sekolah ku", "C. Sekolahku", "D. Sekolah@ku"], correct: 2 },
      { q: "2. Ayat manakah tiada kesalahan ejaan?", options: ["A. Saya sedang bemain di padang.", "B. Ali berjogging setiap hari.", "C. Ibu suka makan mee goreng.", "D. Adik saya lahir pada bulan Februari."], correct: 3 },
      { q: "3. Pilih perkataan yang dieja dengan salah.", options: ["A. pergerakan", "B. garfu", "C. bekerjasama", "D. pasar raya"], correct: 1 },
      { q: "4. Manakah ejaan yang betul bagi perkataan berikut?", options: ["A. cantik", "B. chantek", "C. chantik", "D. cantek"], correct: 0 },
      { q: "5. Manakah ejaan yang salah?", options: ["A. serba guna", "B. tomyam", "C. ibu bapa", "D. isipadu"], correct: 3 },
      // ...Ôºà‰øùÊåÅÂéüÊú¨ÊâÄÊúâ 30 ÈÅìÈ¢òÔºâ
      { q: "30. Pilih ayat yang betul.", options: ["A. Banyak kedai-kedai telah ditutup.", "B. Wah, bangunan itu sangat tertinggi!", "C. Saya telah memulangkan buku Ali kepada-nya.", "D. Sekolah ini terdapat ribuan pelajar."], correct: 3 }
    ];

    let currentQuestion = 0;
    let score = 0;
    let playerName = '';
    let userAnswers = [];

    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const scoreEl = document.getElementById('score');
    const nextBtn = document.getElementById('nextBtn');
    const avatar = document.getElementById('avatar');
    const starContainer = document.getElementById('starContainer');
    const currentQ = document.getElementById('currentQ');
    const progressBar = document.getElementById('progress-bar');
    const endButtons = document.getElementById('endButtons');
    const wrongAnswersDiv = document.getElementById('wrongAnswers');

    const correctSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-level-completed-2059.mp3");
    const wrongSound = new Audio("https://assets.mixkit.co/sfx/preview/mixkit-player-losing-or-failing-2042.mp3");

    function startQuiz() {
      playerName = document.getElementById('playerName').value.trim();
      if (playerName === '') return alert("Masukkan nama anda dahulu!");
      document.getElementById('start-container').style.display = 'none';
      document.getElementById('quiz-container').style.display = 'block';
      loadQuestion();
    }

    function loadQuestion() {
      const q = quizData[currentQuestion];
      questionEl.textContent = q.q;
      optionsEl.innerHTML = '';
      starContainer.innerHTML = '';
      avatar.className = 'happy';
      currentQ.textContent = currentQuestion + 1;
      progressBar.style.width = ((currentQuestion) / quizData.length) * 100 + "%";

      q.options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(i);
        optionsEl.appendChild(btn);
      });
      nextBtn.style.display = 'none';
    }

    function checkAnswer(selected) {
      const q = quizData[currentQuestion];
      const buttons = optionsEl.querySelectorAll('button');
      buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (i === q.correct) btn.style.background = '#4CAF50';
        else if (i === selected) btn.style.background = '#f44336';
      });

      userAnswers.push({ question: q.q, selected, correct: q.correct, options: q.options });

      if (selected === q.correct) {
        score++;
        correctSound.play();
        avatar.className = 'smile';
        const star = document.createElement('span');
        star.innerHTML = '‚≠ê';
        starContainer.appendChild(star);
      } else {
        wrongSound.play();
        avatar.className = 'sad';
      }
      nextBtn.style.display = 'block';
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < quizData.length) {
        loadQuestion();
      } else {
        showScore();
      }
    }

    function showScore() {
      document.getElementById('quizTitle').style.display = 'none';
      questionEl.innerHTML = `üéâ Tahniah, ${playerName}! Anda telah menamatkan kuiz ini.`;
      optionsEl.innerHTML = '';
      nextBtn.style.display = 'none';
      progressBar.style.width = "100%";
      let rank = score >= 25 ? "üèÜ Mantap, Anda Memang Terbaik!" :
                 score >= 15 ? "‚ú® Bagus, Teruskan Usaha Anda Lagi!" :
                 "üò∫ Banyakkan Latihan Anda!";
      scoreEl.innerHTML = `Markah akhir anda ialah <b>${score} / ${quizData.length}</b><br>${rank}`;
      endButtons.style.display = 'block';
    }

    function showWrongAnswers() {
      wrongAnswersDiv.style.display = 'block';
      wrongAnswersDiv.innerHTML = "<h3>‚ùå Jawapan Salah Anda:</h3>";
      userAnswers.forEach((a, index) => {
        if (a.selected !== a.correct) {
          wrongAnswersDiv.innerHTML += `
            <p><b>Soalan ${index + 1}:</b> ${a.question}<br>
            ‚û§ Jawapan anda: <span style="color:red">${a.options[a.selected] || "(tidak jawab)"}</span><br>
            ‚úÖ Jawapan betul: <span style="color:green">${a.options[a.correct]}</span></p>
          `;
        }
      });
      if (!wrongAnswersDiv.innerHTML.includes('<p>')) {
        wrongAnswersDiv.innerHTML += "<p>üéâ Hebat! Tiada jawapan salah!</p>";
      }
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      userAnswers = [];
      endButtons.style.display = 'none';
      wrongAnswersDiv.style.display = 'none';
      document.getElementById('quizTitle').style.display = 'block';
      loadQuestion();
      scoreEl.innerHTML = '';
    }

    function exitQuiz() {
      location.reload();
    }
  </script>
</body>
</html>
